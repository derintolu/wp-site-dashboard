(()=>{"use strict";var e,n={572:(e,n,t)=>{const a=window.wp.domReady;let s={},i=[],r=!1;async function o(e){const n=document.getElementById("portal-content");if(n){n.innerHTML='\n        <div class="portal-content-loading">\n            <div class="portal-spinner small"></div>\n            <p>Loading content...</p>\n        </div>\n    ';try{const n=s.menu_items.find((n=>n.page_id==e));if(n&&n.content)l(n);else{const t=await fetch(`${window.siteDashboardData?.apiUrl.replace("site-dashboard/v1/","wp/v2/")}pages/${e}`,{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.siteDashboardData?.nonce}});if(!t.ok)throw new Error(`Failed to load page: ${t.status}`);const a=await t.json();l({...n,title:a.title.rendered,content:a.content.rendered,excerpt:a.excerpt.rendered})}!function(e){document.querySelectorAll(".portal-menu-link").forEach((e=>e.parentElement.classList.remove("active")));const n=document.querySelector(`[data-page-id="${e}"]`);n&&n.parentElement.classList.add("active")}(e)}catch(e){console.error("Error loading page content:",e),n.innerHTML=`\n        <div class="portal-content-error">\n            <h2>Error Loading Content</h2>\n            <p>${e.message}</p>\n            <button onclick="location.reload()" class="portal-button primary">\n                Retry\n            </button>\n        </div>\n    `}}}function l(e){const n=document.getElementById("portal-content");n&&(n.innerHTML=`\n        <div class="portal-content-container">\n            <div class="portal-content-header">\n                <h1 class="portal-page-title">${e.title}</h1>\n                ${e.excerpt?`<div class="portal-page-excerpt">${e.excerpt}</div>`:""}\n            </div>\n            <div class="portal-page-content">\n                ${e.content||""}\n            </div>\n        </div>\n    `)}function c(e){const n=e.target.value.trim(),t=document.getElementById("search-tooltip");n.length<2?t.style.display="none":(t.style.display="block",document.getElementById("search-results").innerHTML=`\n        <div class="search-result">\n            <p>Searching for "${n}"...</p>\n        </div>\n    `)}t.n(a)()((()=>{console.log("Site Dashboard: Initializing portal...");const e=document.getElementById("site-dashboard-root");e?async function(e){e.innerHTML='\n        <div class="portal-loading">\n            <div class="portal-spinner"></div>\n            <p>Loading portal...</p>\n        </div>\n    ';try{const n=await fetch(`${window.siteDashboardData?.apiUrl}portal-data`,{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.siteDashboardData?.nonce}});if(!n.ok)throw new Error(`Failed to load portal data: ${n.status}`);s=await n.json(),e.innerHTML=(s.settings,`\n        <div id="wrapper" class="portal-wrapper ${r?"dark-theme":""}">\n            ${function(){const e=s.settings||{},n=window.siteDashboardData?.currentUser||{};return`\n        <aside id="sidebar" class="sidebar-wrapper">\n            \x3c!-- User Brand Section --\x3e\n            <div class="sidebar-brand user">\n                <a href="#" id="user-brand">\n                    <i class="user__img">${n.avatar||n.name?.[0]||"U"}</i>\n                </a>\n                <div class="user__text">\n                    <span class="user__title">${n.name||"User"}</span>\n                    <span class="user__subtitle">${n.role||"Member"}</span>\n                </div>\n            </div>\n\n            \x3c!-- Portal Title --\x3e\n            <div class="sidebar-brand sidebar-heading">\n                ${e.portal_title||"Portal Dashboard"}\n            </div>\n\n            \x3c!-- Navigation Menu --\x3e\n            <ul class="sidebar-nav">\n                ${s.menu_items&&0!==s.menu_items.length?s.menu_items.sort(((e,n)=>(e.order||0)-(n.order||0))).map(((e,n)=>{const t=e.children&&e.children.length>0;return`\n                <li ${t?'class="has-submenu"':""}>\n                    <a href="#" data-page-id="${e.page_id}" class="portal-menu-link">\n                        <i class="menu-icon menu-icon_${n+1}">\n                            ${e.icon?(s=e.icon,`<svg role="img" class="dashIcon"><use xlink:href="#${{dashboard:"dashboard","admin-home":"dashboard",cart:"shoppingCart","admin-users":"accountUsers","chart-pie":"pieChart","admin-settings":"settingsIcon",store:"storeMng"}[s]||s}"></use></svg>`):'<svg role="img" class="dashIcon"><use xlink:href="#dashboard"></use></svg>'}\n                        </i>\n                        <span>${e.title}</span>\n                        ${t?'<i class="up up_2"><svg role="img" class="upIcon"><use xlink:href="#chevronUp"></use></svg></i>':""}\n                    </a>\n                    ${t?(a=e.children,`\n        <ul class="sidebar-submenu">\n            ${a.map((e=>`\n                <li><a href="#" data-page-id="${e.page_id}">${e.title}</a></li>\n            `)).join("")}\n        </ul>\n    `):""}\n                </li>\n            `;var a,s})).join(""):'\n            <li class="no-menu-items">\n                <span>No pages assigned</span>\n            </li>\n        '}\n            </ul>\n\n            \x3c!-- Widgets Section --\x3e\n            ${s.widgets&&0!==s.widgets.length?s.widgets.map((e=>{switch(e.type){case"progress":return function(e){return`\n        <div class="sidebar-progress">\n            <div class="sidebar-progress_title">${e.title}</div>\n            <div class="sidebar-progress_subtitle">${e.subtitle}</div>\n            <div class="progress">\n                <div class="progress-bar" role="progressbar" style="width: ${e.percentage||35}%" \n                     aria-valuenow="${e.percentage||35}" aria-valuemin="0" aria-valuemax="100"></div>\n            </div>\n            ${e.button_text?`\n                <div class="sidebar-progress_button">\n                    <a href="${e.button_link||"#"}">${e.button_text}</a>\n                </div>\n            `:""}\n        </div>\n    `}(e);case"stats":return function(e){return`\n        <div class="sidebar-stats">\n            <h3>${e.title}</h3>\n            <div class="stats-content">\n                ${e.content||""}\n            </div>\n        </div>\n    `}(e);default:return function(e){return`\n        <div class="sidebar-widget sidebar-widget-${e.type}">\n            <h3>${e.title}</h3>\n            <div class="widget-content">\n                ${e.content||""}\n            </div>\n        </div>\n    `}(e)}})).join(""):""}\n\n            \x3c!-- User Profile Section --\x3e\n            ${function(){const e=window.siteDashboardData?.currentUser||{};return`\n        <hr class="line" />\n        <nav class="userProfile">\n            <ul>\n                <li class="userAvatar">\n                    <div class="userAvatar-image">\n                        <a href="#" data-toggle="modal" data-target="#userProfile">\n                            ${e.avatar?`<img src="${e.avatar}" alt="User avatar" />`:`<div class="avatar-placeholder">${e.name?.[0]||"U"}</div>`}\n                        </a>\n                    </div>\n                    <div class="userInfo">\n                        <div class="userTitle">${e.name||"User"}</div>\n                    </div>\n                    <a href="#" class="user-menu-toggle">\n                        <span><svg role="img" class="triplePoint"><use xlink:href="#triplePoint"></use></svg></span>\n                    </a>\n                </li>\n            </ul>\n        </nav>\n    `}()}\n        </aside>\n    `}()}\n            \n        <div id="navbar-wrapper">\n            <div class="header">\n                \x3c!-- Search --\x3e\n                <form class="search">\n                    <button type="submit" class="search__button">\n                        <i class="search__icon"><svg role="img" class="dashIcon accountWidget"><use xlink:href="#searchIcon"></use></svg></i>\n                    </button>\n                    <input type="text" class="search__field" id="search-field" \n                           placeholder="Search for data, users..." />\n                    <div class="search-tooltip" id="search-tooltip" style="display: none;">\n                        <div class="search-tooltip__header">Search results</div>\n                        <div id="search-results"></div>\n                    </div>\n                </form>\n\n                \x3c!-- Header Items --\x3e\n                <div class="header-item-group">\n                    \x3c!-- Sidebar Toggle --\x3e\n                    <div class="navbar navbar-inverse">\n                        <div class="container-fluid">\n                            <div class="navbar-header">\n                                <a href="#" class="navbar-brand" id="sidebar-toggle">\n                                    <i class="icon-button"><svg role="img" class="headerIcon"><use xlink:href="#sidebarToggle"></use></svg></i>\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- Notifications --\x3e\n                    <div class="header-item">\n                        <a href="#" class="notification-click">\n                            <i class="icon-bell"><svg role="img" class="headerIcon"><use xlink:href="#bellIcon"></use></svg></i>\n                            ${i.length>0?`<span class="notification-count">${i.length}</span>`:""}\n                        </a>\n                        <div class="notification-tooltip" id="notification-tooltip" style="display: none;">\n                            ${0===i.length?'\n            <div class="notification-tooltip__header">No notifications</div>\n            <div class="no-notifications">\n                <p>You\'re all caught up!</p>\n            </div>\n        ':`\n        <div class="notification-tooltip__header">Recent notifications</div>\n        ${i.map((e=>{return`\n            <div class="notification-tooltip__inside">\n                <div class="notification-tooltip__inside_img">\n                    ${n=e.type,`<svg role="img" class="popover-icon"><use xlink:href="#${{message:"message",warning:"warningIcon",success:"whiteCheck",info:"message"}[n]||"message"}"></use></svg>`}\n                </div>\n                <div class="notification-tooltip__inside_text">\n                    <div class="notification-tooltip__inside_title">${e.title}</div>\n                    <div class="notification-tooltip__inside_message">${e.message}</div>\n                </div>\n                <div class="notification-tooltip__inside_time">${e.time}</div>\n            </div>\n        `;var n})).join("")}\n    `}\n                        </div>\n                    </div>\n\n                    \x3c!-- Theme Toggle --\x3e\n                    <div class="header-item">\n                        <a href="#" class="theme-toggle" id="theme-toggle">\n                            <i class="dark-moon"><svg role="img" class="themeIcon"><use xlink:href="#themeIcon"></use></svg></i>\n                        </a>\n                    </div>\n\n                    \x3c!-- User Avatar & Dropdown --\x3e\n                    <div class="header-item">\n                        <a href="#" class="user-avatar__link">\n                            <i class="user-avatar">\n                                ${window.siteDashboardData?.currentUser?.avatar?`<img src="${window.siteDashboardData.currentUser.avatar}" alt="User avatar" />`:`<div class="avatar-placeholder">${window.siteDashboardData?.currentUser?.name?.[0]||"U"}</div>`}\n                            </i>\n                        </a>\n                        <div class="tooltip-block" id="tooltip-block" style="display: none;">\n                            ${function(){const e=window.siteDashboardData?.currentUser||{};return`\n        <span class="romb"></span>\n        <div class="row relative align-items-center tooltip-block__header">\n            <div class="user-img1">\n                ${e.avatar?`<img src="${e.avatar}" alt="Profile image" />`:`<div class="avatar-placeholder">${e.name?.[0]||"U"}</div>`}\n            </div>\n            <span>${e.name||"User"}</span>\n        </div>\n        <hr class="tooltip-block__line" />\n        <div class="settings-block">\n            <div class="d-flex align-items-center settings-block_item">\n                <i class="preferences-icon"><svg role="img" class="userIcon"><use xlink:href="#accountsPreferences"></use></svg></i>\n                <a href="${window.siteDashboardData?.adminUrl}profile.php">Account preferences</a>\n            </div>\n            <div class="d-flex align-items-center settings-block_item mt-2">\n                <i class="preferences-icon"><svg role="img" class="userIcon"><use xlink:href="#settingsIcon"></use></svg></i>\n                <a href="${window.siteDashboardData?.adminUrl}">Dashboard</a>\n            </div>\n            <div class="d-flex align-items-center settings-block_item mt-2">\n                <i class="preferences-icon log-out-icon"><svg role="img" class="userIcon"><use xlink:href="#logOut"></use></svg></i>\n                <a href="${window.siteDashboardData?.adminUrl}wp-login.php?action=logout">Log out</a>\n            </div>\n        </div>\n    `}()}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    \n            \n        <section id="content-wrapper">\n            <div class="container-fluid">\n                <div id="portal-content" class="portal-content">\n                    ${s.menu_items&&0!==s.menu_items.length?"":'\n        <div class="portal-empty-state">\n            <div class="portal-empty-content">\n                <h2>Welcome to the Portal</h2>\n                <p>Select a page from the sidebar to get started.</p>\n            </div>\n        </div>\n    '}\n                </div>\n            </div>\n        </section>\n    \n        </div>\n    `),function(){document.addEventListener("click",(e=>{if(e.target.closest(".portal-menu-link")){e.preventDefault();const n=e.target.closest(".portal-menu-link").dataset.pageId;n&&o(n)}}));const e=document.getElementById("sidebar-toggle");e&&e.addEventListener("click",(e=>{e.preventDefault(),document.body.classList.toggle("sidebar-collapsed")}));const n=document.getElementById("theme-toggle");n&&n.addEventListener("click",(e=>{e.preventDefault(),r=!r,document.getElementById("wrapper").classList.toggle("dark-theme",r),localStorage.setItem("portal-dark-mode",r)})),"true"===localStorage.getItem("portal-dark-mode")&&(r=!0,document.getElementById("wrapper")?.classList.add("dark-theme"));const t=document.getElementById("search-field");t&&t.addEventListener("input",function(e){let n;return function(...t){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...t)}),300)}}(c)),function(){const e=document.querySelector(".notification-click"),n=document.getElementById("notification-tooltip");e&&n&&e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),n.style.display="block"===n.style.display?"none":"block"}));const t=document.querySelector(".user-avatar__link"),a=document.getElementById("tooltip-block");t&&a&&t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),a.style.display="block"===a.style.display?"none":"block"})),document.addEventListener("click",(()=>{n&&(n.style.display="none"),a&&(a.style.display="none");const e=document.getElementById("search-tooltip");e&&(e.style.display="none")}))}(),document.addEventListener("click",(e=>{e.target.closest(".has-submenu > a")&&(e.preventDefault(),e.target.closest(".has-submenu").classList.toggle("open"))}))}(),s.menu_items&&s.menu_items.length>0&&o(s.menu_items[0].page_id)}catch(n){console.error("Portal error:",n),e.innerHTML=`\n        <div class="portal-error">\n            <div class="portal-error-content">\n                <h2>Portal Error</h2>\n                <p>${n.message}</p>\n                <button onclick="location.reload()" class="portal-button primary">\n                    Retry\n                </button>\n            </div>\n        </div>\n    `}}(e):console.error("Site Dashboard: Root element not found.")}))}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var i=t[e]={exports:{}};return n[e](i,i.exports,a),i.exports}a.m=n,e=[],a.O=(n,t,s,i)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){for(var[t,s,i]=e[d],o=!0,l=0;l<t.length;l++)(!1&i||r>=i)&&Object.keys(a.O).every((e=>a.O[e](t[l])))?t.splice(l--,1):(o=!1,i<r&&(r=i));if(o){e.splice(d--,1);var c=s();void 0!==c&&(n=c)}}return n}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,s,i]},a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={57:0,350:0};a.O.j=n=>0===e[n];var n=(n,t)=>{var s,i,[r,o,l]=t,c=0;if(r.some((n=>0!==e[n]))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(l)var d=l(a)}for(n&&n(t);c<r.length;c++)i=r[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},t=globalThis.webpackChunkwp_site_dashboard=globalThis.webpackChunkwp_site_dashboard||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var s=a.O(void 0,[350],(()=>a(572)));s=a.O(s)})();