(()=>{"use strict";var e,a={19:(e,a,t)=>{var s={};t.r(s);var i={};t.r(i);const n=window.wp.element,r=window.wp.i18n,o=window.wp.domReady;var l=t.n(o);const d=window.wp.components,c=window.React,h=window.wp.primitives,u=(0,c.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(h.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})),p=(0,c.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(h.Path,{d:"M14.5 5.5h-7V7h7V5.5ZM7.5 9h7v1.5h-7V9Zm7 3.5h-7V14h7v-1.5Z"}),(0,c.createElement)(h.Path,{d:"M16 2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2ZM6 3.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V4a.5.5 0 0 1 .5-.5Z"}),(0,c.createElement)(h.Path,{d:"M20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z"})),g=(0,c.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(h.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})),m=(0,c.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(h.Path,{d:"M14 10.1V4c0-.6-.4-1-1-1H5c-.6 0-1 .4-1 1v8.3c0 .3.2.7.6.8.1.1.2.1.3.1.2 0 .5-.1.6-.3l1.8-1.8H13c.6 0 1-.4 1-1zm-1.5-.5H6.7l-1.2 1.2V4.5h7v5.1zM19 12h-8c-.6 0-1 .4-1 1v6.1c0 .6.4 1 1 1h5.7l1.8 1.8c.1.2.4.3.6.3.1 0 .2 0 .3-.1.4-.1.6-.5.6-.8V13c0-.6-.4-1-1-1zm-.5 7.8l-1.2-1.2h-5.8v-5.1h7v6.3z"})),_=window.wp.apiFetch;var x=t.n(_);const v=window.ReactJSXRuntime,b=window.wp.commands,j=window.wp.coreData,f=window.wp.data,w=window.wp.htmlEntities,y=(0,v.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,v.jsx)(h.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),S=window.wp.keycodes,C=window.wp.url;function N(e){var a,t,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(a=0;a<i;a++)e[a]&&(t=N(e[a]))&&(s&&(s+=" "),s+=t)}else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}const k=function(){for(var e,a,t=0,s="",i=arguments.length;t<i;t++)(e=arguments[t])&&(a=N(e))&&(s&&(s+=" "),s+=a);return s},P=(0,n.forwardRef)((function({icon:e,size:a=24,...t},s){return(0,n.cloneElement)(e,{width:a,height:a,...t,ref:s})})),D=(0,v.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,v.jsx)(h.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})});function B({className:e}){const{isRequestingSite:a,siteIconUrl:t}=(0,f.useSelect)((e=>{const{getEntityRecord:a}=e(j.store),t=a("root","__unstableBase",void 0),s=a("root","__unstableBase")?.site_icon_url;return{isRequestingSite:!t,siteIconUrl:s}}),[]);if(a&&!t)return(0,v.jsx)("div",{className:"a8c-site-admin-site-icon__image"});const s=t?(0,v.jsx)("img",{className:"a8c-site-admin-site-icon__image",alt:"",src:t}):(0,v.jsx)(P,{className:"a8c-site-admin-site-icon__icon",icon:D,size:48});return(0,v.jsx)("div",{className:k(e,"a8c-site-admin-site-icon"),children:s})}const H=(0,n.memo)((0,n.forwardRef)((({isTransparent:e,exitLink:a="/",exitLabel:t=(0,r.__)("Go to the Dashboard","a8c-site-admin")},s)=>{const{homeUrl:i,siteTitle:n}=(0,f.useSelect)((e=>{const{getEntityRecord:a}=e(j.store),t=a("root","site"),s=a("root","__unstableBase")?.home;return{homeUrl:s,siteTitle:!t?.title&&t?.url?(0,C.filterURLForDisplay)(t?.url):t?.title}}),[]),{open:o}=(0,f.useDispatch)(b.store);return(0,v.jsx)("div",{className:"site-admin-site-hub",children:(0,v.jsxs)(d.__experimentalHStack,{justify:"flex-start",spacing:"0",children:[(0,v.jsx)("div",{className:k("site-admin-site-hub__view-mode-toggle-container",{"has-transparent-background":e}),children:(0,v.jsx)(d.Button,{className:"site-admin-layout__view-mode-toggle",__next40pxDefaultSize:!0,ref:s,href:a,label:t,children:(0,v.jsx)(B,{className:"site-admin-layout__view-mode-toggle-icon"})})}),(0,v.jsxs)(d.__experimentalHStack,{children:[(0,v.jsx)("div",{className:"site-admin-site-hub__title",children:(0,v.jsxs)(d.Button,{className:"site-admin-site-hub__title-button",__next40pxDefaultSize:!0,variant:"link",href:i,target:"_blank",children:[(0,w.decodeEntities)(n),(0,v.jsx)(d.VisuallyHidden,{as:"span",children:
/* translators: accessibility text */
/* translators: accessibility text */
(0,r.__)("(opens in a new tab)","a8c-site-admin")})]})}),(0,v.jsx)(d.__experimentalHStack,{spacing:0,expanded:!1,className:"site-admin-site-hub__actions",children:(0,v.jsx)(d.Button,{size:"compact",className:"site-admin-site-hub__toggle-command-center",icon:y,onClick:()=>o(),label:(0,r.__)("Open command palette","a8c-site-admin"),shortcut:S.displayShortcut.primary("k")})})]})]})})}))),E=(0,v.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,v.jsx)(h.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})}),R=(0,v.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,v.jsx)(h.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})}),A=(window.wp.dom,{get:()=>{throw new Error("SidebarNavigationContext is not provided")},navigate:()=>{throw new Error("SidebarNavigationContext is not provided")}}),V=(0,n.createContext)(A);function L(e){return(0,v.jsx)(d.Button,{size:"compact",...e,className:k("a8c-site-admin-sidebar-button",e.className)})}const M=window.wp.compose;function T(){return T=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},T.apply(null,arguments)}var O;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(O||(O={}));var z="beforeunload";function F(e){e.preventDefault(),e.returnValue=""}function U(){var e=[];return{get length(){return e.length},push:function(a){return e.push(a),function(){e=e.filter((function(e){return e!==a}))}},call:function(a){e.forEach((function(e){return e&&e(a)}))}}}(0,n.createContext)(null);const I=(0,n.createContext)({pathArg:"p"}),G=function(e){void 0===e&&(e={});var a=e.window,t=void 0===a?document.defaultView:a,s=t.history;function i(){var e=t.location,a=e.pathname,i=e.search,n=e.hash,r=s.state||{};return[r.idx,{pathname:a,search:i,hash:n,state:r.usr||null,key:r.key||"default"}]}var n=null;t.addEventListener("popstate",(function(){if(n)h.call(n),n=null;else{var e=O.Pop,a=i(),t=a[0],s=a[1];if(h.length){if(null!=t){var r=l-t;r&&(n={action:e,location:s,retry:function(){x(-1*r)}},x(r))}}else _(e)}}));var r=O.Pop,o=i(),l=o[0],d=o[1],c=U(),h=U();function u(e){return"string"==typeof e?e:(t=(a=e).pathname,s=void 0===t?"/":t,i=a.search,n=void 0===i?"":i,r=a.hash,o=void 0===r?"":r,n&&"?"!==n&&(s+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(s+="#"===o.charAt(0)?o:"#"+o),s);var a,t,s,i,n,r,o}function p(e,a){return void 0===a&&(a=null),T({pathname:d.pathname,hash:"",search:""},"string"==typeof e?function(e){var a={};if(e){var t=e.indexOf("#");t>=0&&(a.hash=e.substr(t),e=e.substr(0,t));var s=e.indexOf("?");s>=0&&(a.search=e.substr(s),e=e.substr(0,s)),e&&(a.pathname=e)}return a}(e):e,{state:a,key:Math.random().toString(36).substr(2,8)})}function g(e,a){return[{usr:e.state,key:e.key,idx:a},u(e)]}function m(e,a,t){return!h.length||(h.call({action:e,location:a,retry:t}),!1)}function _(e){r=e;var a=i();l=a[0],d=a[1],c.call({action:r,location:d})}function x(e){s.go(e)}return null==l&&(l=0,s.replaceState(T({},s.state,{idx:l}),"")),{get action(){return r},get location(){return d},createHref:u,push:function e(a,i){var n=O.Push,r=p(a,i);if(m(n,r,(function(){e(a,i)}))){var o=g(r,l+1),d=o[0],c=o[1];try{s.pushState(d,"",c)}catch(e){t.location.assign(c)}_(n)}},replace:function e(a,t){var i=O.Replace,n=p(a,t);if(m(i,n,(function(){e(a,t)}))){var r=g(n,l),o=r[0],d=r[1];s.replaceState(o,"",d),_(i)}},go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(e){return c.push(e)},block:function(e){var a=h.push(e);return 1===h.length&&t.addEventListener(z,F),function(){a(),h.length||t.removeEventListener(z,F)}}}}();function q(){const{pathArg:e,beforeNavigate:a}=(0,n.useContext)(I),t=(0,M.useEvent)(((t,s={})=>{const i=(0,C.getQueryArgs)(t),n=(0,C.getPath)("http://domain.com/"+t)||"";(()=>{const t=a?a({path:n,query:i}):{path:n,query:i};G.push({search:(0,C.buildQueryString)({[e]:t.path,...t.query})},s.state)})()}));return(0,n.useMemo)((()=>({navigate:t,back:G.back})),[t])}function Z({isRoot:e,title:a,actions:t,content:s,footer:i,description:o,backPath:l,exitLabel:c=(0,r.__)("Go to the Dashboard","a8c-site-admin"),exitLink:h="/"}){const u=q(),{navigate:p}=(0,n.useContext)(V),g=(0,r.isRTL)()?E:R;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(d.__experimentalVStack,{className:k("a8c-site-admin-sidebar-navigation-screen__main",{"has-footer":!!i}),spacing:0,justify:"flex-start",children:[(0,v.jsxs)(d.__experimentalHStack,{spacing:3,alignment:"flex-start",className:"a8c-site-admin-sidebar-navigation-screen__title-icon",children:[!e&&(0,v.jsx)(L,{onClick:()=>{l&&(u.navigate(l),p("back"))},icon:g,label:(0,r.__)("Back","a8c-site-admin")}),e&&(0,v.jsx)(L,{icon:g,label:c,href:h}),(0,v.jsx)(d.__experimentalHeading,{className:"a8c-site-admin-sidebar-navigation-screen__title",level:1,size:20,children:a}),t&&(0,v.jsx)("div",{className:"a8c-site-admin-sidebar-navigation-screen__actions",children:t})]}),(0,v.jsxs)("div",{className:"a8c-site-admin-sidebar-navigation-screen__content",children:[o&&(0,v.jsx)("p",{className:"a8c-site-admin-sidebar-navigation-screen__description",children:o}),s]})]}),i&&(0,v.jsx)("footer",{className:"a8c-site-admin-sidebar-navigation-screen__footer",children:i})]})}const $=(0,v.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,v.jsx)(h.Path,{d:"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z"})}),Q=(0,v.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,v.jsx)(h.Path,{d:"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z"})});function W({suffix:e,uid:a,to:t="",icon:s,className:i,onClick:o,children:l,...c}){const h=q(),{navigate:u}=(0,n.useContext)(V),{href:p}=function(e,a={}){const t=q(),{pathArg:s,beforeNavigate:i}=(0,n.useContext)(I),r=(0,C.getQueryArgs)(e),o=(0,C.getPath)("http://domain.com/"+e)||"",l=(0,n.useMemo)((()=>i?i({path:o,query:r}):{path:o,query:r}),[o,r,i]),[d]=window.location.href.split("?");return{href:`${d}?${(0,C.buildQueryString)({[s]:l.path,...l.query})}`,onClick:function(s){s?.preventDefault(),t.navigate(e,a)}}}(t);return(0,v.jsx)(d.__experimentalItem,{className:k("a8c-site-admin-sidebar-navigation-item",{"with-suffix":void 0!==e},i),id:a,as:o?"button":"a",...c,onClick:function(e){o?(o(e),u("forward")):t&&(e.preventDefault(),h.navigate(t),u("forward",`[id="${a}"]`))},href:t?p:void 0,children:(0,v.jsxs)(d.__experimentalHStack,{justify:"flex-start",children:[s&&(0,v.jsx)(P,{icon:s,size:24}),(0,v.jsx)(d.FlexBlock,{children:l}),"CHEVRON"===e?(0,v.jsx)(P,{icon:(0,r.isRTL)()?$:Q,className:"a8c-site-admin-sidebar-navigation-item__drilldown-indicator",size:24}):e]})})}const J=(0,n.forwardRef)((({as:e="div",role:a="region",tabIndex:t=-1,ariaLabel:s,...i},n)=>(0,v.jsx)(e,{ref:n,role:a,tabIndex:t,"aria-label":s,...i})));function X({title:e,subTitle:a,actions:t}){return(0,v.jsxs)(d.__experimentalVStack,{className:"a8c-site-admin-page-header",as:"header",spacing:0,children:[(0,v.jsxs)(d.__experimentalHStack,{className:"a8c-site-admin-page-header__title-container",children:[(0,v.jsx)(d.__experimentalHeading,{as:"h2",level:3,weight:500,className:"a8c-site-admin-page-header__title",truncate:!0,children:e}),(0,v.jsx)(d.FlexItem,{className:"a8c-site-admin-page-header__actions",children:t})]}),a&&(0,v.jsx)(d.__experimentalText,{variant:"muted",as:"p",className:"a8c-site-admin-page-header__sub-title",children:a})]})}function Y({title:e,subTitle:a,actions:t,children:s,className:i,hideTitleFromUI:n=!1}){const r=k("a8c-site-admin-page",i);return(0,v.jsx)(J,{className:r,ariaLabel:e,children:(0,v.jsxs)("div",{className:"a8c-site-admin-page__content",children:[!n&&e&&(0,v.jsx)(X,{title:e,subTitle:a,actions:t}),s]})})}J.displayName="NavigableRegion";const K=()=>{const[e,a]=(0,n.useState)(null),[t,o]=(0,n.useState)(!0),[l,c]=(0,n.useState)(null),[h,_]=(0,n.useState)("overview");(0,n.useEffect)((()=>{b()}),[]);const b=async()=>{o(!0),c(null);try{const e=await x()({path:"/site-dashboard/v1/stats",method:"GET"});a(e)}catch(e){console.error("Dashboard loading error:",e),c((0,r.__)("Failed to load dashboard data. Please refresh and try again.","site-dashboard"))}finally{o(!1)}},j=({title:e,value:a,icon:t,color:s="#5344F4"})=>(0,v.jsx)(d.Card,{className:"portal-stat-card",children:(0,v.jsx)(d.CardBody,{children:(0,v.jsxs)(d.__experimentalHStack,{alignment:"space-between",className:"portal-stat-header",children:[(0,v.jsx)("div",{className:"portal-stat-icon",style:{backgroundColor:`${s}15`,color:s},children:t}),(0,v.jsxs)("div",{className:"portal-stat-content",children:[(0,v.jsx)("div",{className:"portal-stat-value",children:a}),(0,v.jsx)("div",{className:"portal-stat-title",children:e})]})]})})}),f=({title:e,description:a,icon:t,onClick:s,href:i})=>(0,v.jsx)(d.Card,{className:"portal-quick-action",children:(0,v.jsx)(d.CardBody,{children:(0,v.jsxs)(d.__experimentalVStack,{spacing:3,children:[(0,v.jsx)("div",{className:"portal-action-icon",children:t}),(0,v.jsxs)("div",{className:"portal-action-content",children:[(0,v.jsx)(d.__experimentalHeading,{level:4,children:e}),(0,v.jsx)("p",{children:a})]}),i?(0,v.jsx)(d.Button,{variant:"secondary",href:i,icon:u,iconPosition:"right",children:(0,r.__)("Open","site-dashboard")}):(0,v.jsx)(d.Button,{variant:"secondary",onClick:s,children:(0,r.__)("Open","site-dashboard")})]})})});return t?(0,v.jsxs)("div",{className:"portal-dashboard-loading",children:[(0,v.jsx)(d.Spinner,{}),(0,v.jsx)("p",{children:(0,r.__)("Loading your dashboard...","site-dashboard")})]}):l?(0,v.jsxs)("div",{className:"portal-dashboard-error",children:[(0,v.jsx)(d.Notice,{status:"error",isDismissible:!1,children:l}),(0,v.jsx)(d.Button,{variant:"primary",onClick:b,style:{marginTop:"16px"},children:(0,r.__)("Retry","site-dashboard")})]}):(0,v.jsx)("div",{className:"portal-dashboard-app",children:(0,v.jsxs)(i.SiteAdmin,{children:[(0,v.jsxs)(i.Sidebar,{children:[(0,v.jsx)(H,{title:(0,r.__)("Portal Dashboard","site-dashboard"),subtitle:window.siteDashboardData?.siteName||(0,r.__)("Your Site","site-dashboard")}),(0,v.jsxs)(Z,{path:"/",children:[(0,v.jsx)(W,{uid:"overview",title:(0,r.__)("Overview","site-dashboard"),icon:s.dashboard,onClick:()=>_("overview"),isActive:"overview"===h}),(0,v.jsx)(W,{uid:"analytics",title:(0,r.__)("Analytics","site-dashboard"),icon:s.chartLine,onClick:()=>_("analytics"),isActive:"analytics"===h}),(0,v.jsx)(W,{uid:"content",title:(0,r.__)("Content","site-dashboard"),icon:p,onClick:()=>_("content"),isActive:"content"===h}),(0,v.jsx)(W,{uid:"users",title:(0,r.__)("Users","site-dashboard"),icon:s.users,onClick:()=>_("users"),isActive:"users"===h})]}),(0,v.jsx)("div",{className:"portal-sidebar-footer",children:(0,v.jsx)(i.SidebarButton,{icon:g,href:`${window.siteDashboardData?.adminUrl}admin.php?page=site-dashboard-settings`,children:(0,r.__)("Settings","site-dashboard")})})]}),(0,v.jsxs)(Y,{children:["overview"===h&&(0,v.jsxs)("div",{className:"portal-dashboard-content",children:[(0,v.jsxs)("div",{className:"portal-dashboard-header",children:[(0,v.jsx)(d.__experimentalHeading,{level:1,children:(0,r.__)("Dashboard Overview","site-dashboard")}),(0,v.jsx)("p",{children:(0,r.__)("Welcome to your site portal. Here's a quick overview of your site.","site-dashboard")})]}),(0,v.jsx)(d.__experimentalSpacer,{}),(0,v.jsxs)("div",{className:"portal-stats-grid",children:[(0,v.jsx)(j,{title:(0,r.__)("Total Posts","site-dashboard"),value:e?.posts_count||0,icon:p,color:"#5344F4"}),(0,v.jsx)(j,{title:(0,r.__)("Total Pages","site-dashboard"),value:e?.pages_count||0,icon:p,color:"#00A32A"}),(0,v.jsx)(j,{title:(0,r.__)("Total Users","site-dashboard"),value:e?.users_count||0,icon:s.users,color:"#FF6B6B"}),(0,v.jsx)(j,{title:(0,r.__)("Comments","site-dashboard"),value:e?.comments_count||0,icon:m,color:"#FFB800"})]}),(0,v.jsx)(d.__experimentalSpacer,{}),(0,v.jsxs)("div",{className:"portal-section",children:[(0,v.jsx)(d.__experimentalHeading,{level:2,children:(0,r.__)("Quick Actions","site-dashboard")}),(0,v.jsxs)("div",{className:"portal-quick-actions-grid",children:[(0,v.jsx)(f,{title:(0,r.__)("Create New Post","site-dashboard"),description:(0,r.__)("Write and publish a new blog post","site-dashboard"),icon:p,href:`${window.siteDashboardData?.adminUrl}post-new.php`}),(0,v.jsx)(f,{title:(0,r.__)("Manage Pages","site-dashboard"),description:(0,r.__)("Edit your site pages and content","site-dashboard"),icon:p,href:`${window.siteDashboardData?.adminUrl}edit.php?post_type=page`}),(0,v.jsx)(f,{title:(0,r.__)("User Management","site-dashboard"),description:(0,r.__)("Add or edit user accounts","site-dashboard"),icon:s.users,href:`${window.siteDashboardData?.adminUrl}users.php`}),(0,v.jsx)(f,{title:(0,r.__)("Site Settings","site-dashboard"),description:(0,r.__)("Configure your portal settings","site-dashboard"),icon:g,href:`${window.siteDashboardData?.adminUrl}admin.php?page=site-dashboard-settings`})]})]})]}),"analytics"===h&&(0,v.jsxs)("div",{className:"portal-dashboard-content",children:[(0,v.jsxs)("div",{className:"portal-dashboard-header",children:[(0,v.jsx)(d.__experimentalHeading,{level:1,children:(0,r.__)("Analytics","site-dashboard")}),(0,v.jsx)("p",{children:(0,r.__)("View your site analytics and performance metrics.","site-dashboard")})]}),(0,v.jsx)(d.Card,{children:(0,v.jsx)(d.CardBody,{children:(0,v.jsx)("p",{children:(0,r.__)("Analytics features coming soon...","site-dashboard")})})})]}),"content"===h&&(0,v.jsxs)("div",{className:"portal-dashboard-content",children:[(0,v.jsxs)("div",{className:"portal-dashboard-header",children:[(0,v.jsx)(d.__experimentalHeading,{level:1,children:(0,r.__)("Content Management","site-dashboard")}),(0,v.jsx)("p",{children:(0,r.__)("Manage your posts, pages, and media.","site-dashboard")})]}),(0,v.jsx)(d.Card,{children:(0,v.jsx)(d.CardBody,{children:(0,v.jsx)("p",{children:(0,r.__)("Content management features coming soon...","site-dashboard")})})})]}),"users"===h&&(0,v.jsxs)("div",{className:"portal-dashboard-content",children:[(0,v.jsxs)("div",{className:"portal-dashboard-header",children:[(0,v.jsx)(d.__experimentalHeading,{level:1,children:(0,r.__)("User Management","site-dashboard")}),(0,v.jsx)("p",{children:(0,r.__)("Manage user accounts and permissions.","site-dashboard")})]}),(0,v.jsx)(d.Card,{children:(0,v.jsx)(d.CardBody,{children:(0,v.jsx)("p",{children:(0,r.__)("User management features coming soon...","site-dashboard")})})})]})]})]})})},ee=()=>{const[e,a]=(0,n.useState)([]),[t,i]=(0,n.useState)([]),[o,l]=(0,n.useState)({assignedPages:[],dashboardRoute:"/dashboard",allowedRoles:["administrator"],loginLogo:"",loginBgColor:"#ffffff",loginAccentColor:"#2271b1",loginTagline:"",loginBgImage:""}),[c,h]=(0,n.useState)(!0),[u,m]=(0,n.useState)(!1),[_,b]=(0,n.useState)(null),[j,f]=(0,n.useState)(null);(0,n.useEffect)((()=>{w()}),[]);const w=async()=>{h(!0),f(null);try{const e=await x()({path:"/site-dashboard/v1/settings",method:"GET"}).catch((e=>(console.error("Settings API error:",e),null)));e&&l((a=>({...a,...e})));const t=await x()({path:"/site-dashboard/v1/roles",method:"GET"}).catch((e=>(console.error("Roles API error:",e),[{slug:"administrator",name:"Administrator"},{slug:"editor",name:"Editor"},{slug:"author",name:"Author"}])));i(t||[]);const s=await x()({path:"/wp/v2/pages?per_page=100",method:"GET"}).catch((e=>(console.error("Pages API error:",e),[])));a(s||[])}catch(e){console.error("Failed to initialize settings:",e),f((0,r.__)("Failed to load settings. Please refresh the page and try again.","site-dashboard"))}finally{h(!1)}};if(c)return(0,v.jsxs)("div",{className:"portal-settings-loading",children:[(0,v.jsx)(d.Spinner,{}),(0,v.jsx)("p",{children:(0,r.__)("Loading settings...","site-dashboard")})]});if(j)return(0,v.jsxs)("div",{className:"portal-settings-error",children:[(0,v.jsx)(d.Notice,{status:"error",isDismissible:!1,children:j}),(0,v.jsx)(d.Button,{variant:"primary",onClick:w,style:{marginTop:"16px"},children:(0,r.__)("Retry","site-dashboard")})]});const y=[{name:"general",title:(0,r.__)("General Settings","site-dashboard"),icon:g,content:(0,v.jsx)(d.__experimentalVStack,{spacing:4,children:(0,v.jsxs)(d.Card,{children:[(0,v.jsx)(d.CardHeader,{children:(0,v.jsx)(d.__experimentalHeading,{level:3,children:(0,r.__)("Dashboard Configuration","site-dashboard")})}),(0,v.jsx)(d.CardBody,{children:(0,v.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,v.jsx)(d.TextControl,{label:(0,r.__)("Dashboard Route","site-dashboard"),value:o.dashboardRoute,onChange:e=>l((a=>({...a,dashboardRoute:e}))),help:(0,r.__)("Set the frontend route for the dashboard (e.g., /dashboard)","site-dashboard")}),t.length>0&&(0,v.jsx)(d.SelectControl,{multiple:!0,label:(0,r.__)("Allowed User Roles","site-dashboard"),value:o.allowedRoles,options:t.map((e=>({label:e.name,value:e.slug}))),onChange:e=>l((a=>({...a,allowedRoles:e}))),help:(0,r.__)("Select which user roles can access the portal","site-dashboard")})]})})]})})},{name:"login",title:(0,r.__)("Login Page","site-dashboard"),icon:s.palette,content:(0,v.jsx)(d.__experimentalVStack,{spacing:4,children:(0,v.jsxs)(d.Card,{children:[(0,v.jsx)(d.CardHeader,{children:(0,v.jsx)(d.__experimentalHeading,{level:3,children:(0,r.__)("Branding & Colors","site-dashboard")})}),(0,v.jsx)(d.CardBody,{children:(0,v.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,v.jsx)(d.FormFileUpload,{accept:"image/*",onChange:e=>l((a=>({...a,loginLogo:e}))),render:({openFileDialog:e})=>(0,v.jsx)(d.Button,{onClick:e,variant:"secondary",children:o.loginLogo?(0,r.__)("Change Logo","site-dashboard"):(0,r.__)("Upload Logo","site-dashboard")})}),(0,v.jsxs)("div",{className:"portal-color-picker-group",children:[(0,v.jsx)(d.__experimentalHeading,{level:4,children:(0,r.__)("Background Color","site-dashboard")}),(0,v.jsx)(d.ColorPicker,{color:o.loginBgColor,onChangeComplete:e=>l((a=>({...a,loginBgColor:e.hex})))})]}),(0,v.jsxs)("div",{className:"portal-color-picker-group",children:[(0,v.jsx)(d.__experimentalHeading,{level:4,children:(0,r.__)("Accent Color","site-dashboard")}),(0,v.jsx)(d.ColorPicker,{color:o.loginAccentColor,onChangeComplete:e=>l((a=>({...a,loginAccentColor:e.hex})))})]}),(0,v.jsx)(d.TextControl,{label:(0,r.__)("Login Tagline","site-dashboard"),value:o.loginTagline,onChange:e=>l((a=>({...a,loginTagline:e}))),help:(0,r.__)("Optional tagline to display on the login page","site-dashboard")}),(0,v.jsx)(d.FormFileUpload,{accept:"image/*",onChange:e=>l((a=>({...a,loginBgImage:e}))),render:({openFileDialog:e})=>(0,v.jsx)(d.Button,{onClick:e,variant:"secondary",children:o.loginBgImage?(0,r.__)("Change Background Image","site-dashboard"):(0,r.__)("Upload Background Image","site-dashboard")})})]})})]})})},{name:"pages",title:(0,r.__)("Page Assignment","site-dashboard"),icon:p,content:(0,v.jsx)(d.__experimentalVStack,{spacing:4,children:(0,v.jsxs)(d.Card,{children:[(0,v.jsx)(d.CardHeader,{children:(0,v.jsx)(d.__experimentalHeading,{level:3,children:(0,r.__)("Dashboard Pages","site-dashboard")})}),(0,v.jsx)(d.CardBody,{children:e.length>0?(0,v.jsx)(d.SelectControl,{multiple:!0,label:(0,r.__)("Assign Pages to Dashboard","site-dashboard"),value:o.assignedPages,options:e.map((e=>({label:e.title.rendered,value:String(e.id)}))),onChange:e=>l((a=>({...a,assignedPages:e}))),help:(0,r.__)("Select which WordPress pages should appear in the portal dashboard","site-dashboard")}):(0,v.jsx)("p",{children:(0,r.__)("No pages found. Create some pages first.","site-dashboard")})})]})})}];return(0,v.jsx)("div",{className:"portal-settings-app",children:(0,v.jsx)("div",{className:"portal-settings-layout",children:(0,v.jsxs)("div",{className:"portal-settings-content",children:[(0,v.jsxs)("div",{className:"portal-settings-header",children:[(0,v.jsx)(d.__experimentalHeading,{level:1,children:(0,r.__)("Portal Settings","site-dashboard")}),(0,v.jsx)("p",{children:(0,r.__)("Configure your portal dashboard, login page, and user access settings.","site-dashboard")})]}),(0,v.jsx)(d.__experimentalSpacer,{}),_&&(0,v.jsx)(d.Notice,{status:_.status,isDismissible:!0,onRemove:()=>b(null),children:_.message}),(0,v.jsx)(d.TabPanel,{className:"portal-settings-tabs",activeClass:"active-tab",tabs:y,children:e=>(0,v.jsx)("div",{className:"portal-settings-tab-content",children:e.content})}),(0,v.jsx)("div",{className:"portal-settings-save-bar",children:(0,v.jsx)(d.Button,{variant:"primary",onClick:async()=>{m(!0),b(null);try{const e=await x()({path:"/site-dashboard/v1/settings",method:"POST",data:o});if(!e||!e.success)throw new Error("Invalid response from server");b({status:"success",message:(0,r.__)("Settings saved successfully!","site-dashboard")})}catch(e){console.error("Save error:",e),b({status:"error",message:e.message||(0,r.__)("Failed to save settings. Please try again.","site-dashboard")})}finally{m(!1)}},disabled:u,className:"portal-settings-save-button",children:u?(0,r.__)("Saving...","site-dashboard"):(0,r.__)("Save Settings","site-dashboard")})})]})})})};l()((()=>{if(console.log("Site Dashboard: DOM ready, checking for elements and data..."),console.log("Available data:",{siteDashboardData:window.siteDashboardData,settingsPage:window.siteDashboardData?.settingsPage}),window.siteDashboardData&&window.siteDashboardData.settingsPage){const e=document.getElementById("site-dashboard-settings-root");e?(console.log("Site Dashboard: Rendering Settings component"),(0,n.render)((0,v.jsx)(ee,{}),e)):console.error("Site Dashboard: Settings root element not found.")}else{const e=document.getElementById("site-dashboard-root");e?(console.log("Site Dashboard: Rendering Dashboard component"),console.log("Frontend data available:",window.siteDashboardData),(0,n.render)((0,v.jsx)(K,{}),e)):console.error("Site Dashboard: Root element not found. Make sure the PHP plugin is properly enqueuing this script.")}}))}},t={};function s(e){var i=t[e];if(void 0!==i)return i.exports;var n=t[e]={exports:{}};return a[e](n,n.exports,s),n.exports}s.m=a,e=[],s.O=(a,t,i,n)=>{if(!t){var r=1/0;for(c=0;c<e.length;c++){for(var[t,i,n]=e[c],o=!0,l=0;l<t.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((e=>s.O[e](t[l])))?t.splice(l--,1):(o=!1,n<r&&(r=n));if(o){e.splice(c--,1);var d=i();void 0!==d&&(a=d)}}return a}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[t,i,n]},s.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return s.d(a,{a}),a},s.d=(e,a)=>{for(var t in a)s.o(a,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},s.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={57:0,350:0};s.O.j=a=>0===e[a];var a=(a,t)=>{var i,n,[r,o,l]=t,d=0;if(r.some((a=>0!==e[a]))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(l)var c=l(s)}for(a&&a(t);d<r.length;d++)n=r[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},t=globalThis.webpackChunkwp_site_dashboard=globalThis.webpackChunkwp_site_dashboard||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var i=s.O(void 0,[350],(()=>s(19)));i=s.O(i)})();